<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Resource Allocation</title>

  <link rel="stylesheet" href="style2.css">
  <link rel="icon" type="image/png" href="PWC logo.png" />
  <script src="script2.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
  <div class="container">
    <!-- Header -->
    <header class="header">
      <div class="brand">
        <div class="brand-icon">
          <!-- If the file is next to index.html, use src="PWC logo.png".
               If it's in /images, use src="images/pwc-logo.png". -->
          <img src="PWC logo.png" alt="PwC Logo">
        </div>
        <h1 class="title">Resource Allocation using AI</h1>
        <p class="title">Its running on free services so the data will take time to load</p>
      </div>

    </header>

    <!-- Main Grid -->
    <main class="grid">
      <!-- Left -->
      <section>
        <article class="card">
          <div class="card-header">
            <h2 class="card-title">AI resource finder</h2>
            <p class="card-desc">Describe the requirement</p>
          </div>
          <div class="card-body">
            <div class="field">
              <textarea class="textarea" rows="4"
                placeholder="e.g., Need a developer to build a dashboard with API integration" id="myInput"></textarea>
            </div>
            <button class="btn" onclick="sendInput()">Submit</button>
          </div>
        </article>

        <article class="card" style="margin-top:16px;">
          <div class="card-header">
            <h2 class="card-title">Parsed Requirements</h2>
            <p class="card-desc">This section will be filled by your backend.</p>
          </div>
          <div class="card-body">
            <div class="field"><label class="label">Tool</label><input class="input" id="tool" placeholder="—" disabled /></div>
            <div class="field"><label class="label">Module</label><input class="input" id="module" placeholder="—" disabled /></div>
            <div class="field"><label class="label">Task</label><input class="input" id="task" placeholder="—" disabled /></div>
            <div class="field"><label class="label">Time Frame</label><input class="input" id="time_frame" placeholder="—" disabled /></div>
            <div class="field"><label class="label">Quality rating</label><input class="input" id="quality" placeholder="—" disabled /></div>
          </div>
        </article>
      </section>

      <!-- Right -->
      <section>
        <div id="myCard"></div>

        <article class="card" style="margin-top:16px;">
          <div class="card-header">
            <h2 class="card-title">Manual Resource Checker</h2>
            <p class="card-desc">Check the details of the exployees using the given pie chart</p>
            <div id="csvMode" class="mode-section active" style="display: flex; gap: 10px;">
              <div class="chart-section">
                <h1>CSV Data Pie Chart</h1>
                <label for="attributeSelect">Select Attribute:</label>
                <select id="attributeSelect" onchange="updateChart()" style="margin-bottom: 2vh; border-radius: 8px;">
                  <option value="Tool">Tool</option>
                  <option value="Module">Module</option>
                  <option value="Task">Task</option>
                  <option value="Time Frame">Time Frame</option>
                  <option value="Quality Rating">Quality Rating</option>
                </select>
                <canvas id="pieChart"></canvas>
              </div>
              <div style="display: flex; flex-direction: column; gap: 5px; padding: 5px; background-color: #EB8C00; border-radius: 8px;">
                <div id="filterTree" class="filter-tree" style="margin-top: 10px;"></div>
                <div style="max-height: 300px; overflow-y: auto;">
                  <table id="pieDataTable" style=" border: 1; border-collapse: collapse; padding: 10px; width: 250px;">
                    <thead>
                      <tr>
                        <th style="background-color: bisque;">Label</th>
                        <th style="background-color: bisque;">Count</th>
                      </tr>
                    </thead>
                    <tbody>
                      <!-- Rows populated dynamically -->
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
            <!-- Employee List Popup Modal -->
            <!-- Shared Modal -->
            <!-- Shared Modal -->
            <div id="sharedModal" class="modal">
              <div class="modal-content">
                <span class="close-btn">&times;</span>
                <div id="modalContent" style="max-height: 400px; overflow-y: auto; padding: 5px;">
                  <!-- Table will be injected here -->
                </div>
              </div>
            </div>


            <script>
              // Toggle logic
              const buttons = document.querySelectorAll('.mode-btn');
              const sections = {
                csv: document.getElementById('csvMode'),
                ai: document.getElementById('aiMode')
              };

              buttons.forEach(btn => {
                btn.addEventListener('click', () => {
                  // Set active button
                  buttons.forEach(b => b.classList.remove('active'));
                  btn.classList.add('active');

                  // Show corresponding section
                  Object.values(sections).forEach(sec => sec.classList.remove('active'));
                  const mode = btn.getAttribute('data-mode');
                  sections[mode].classList.add('active');
                });
              });
            </script>
          </div>
  </div>
  </article>
  </section>
  </main>

  <footer class="footer">PwC · Neurotrio · Generative AI</footer>
  </div>
</body>

</html>

